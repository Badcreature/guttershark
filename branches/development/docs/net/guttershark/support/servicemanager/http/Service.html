<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" href="../../../../../style.css" type="text/css" media="screen">
<link rel="stylesheet" href="../../../../../print.css" type="text/css" media="print">
<meta content="Service,net.guttershark.support.servicemanager.http.Service,dispose,send,toString" name="keywords">
<title>net.guttershark.support.servicemanager.http.Service</title>
</head>
<body>
<script type="text/javascript" language="javascript" src="../../../../../asdoc.js"></script><script type="text/javascript" language="javascript" src="../../../../../cookies.js"></script><script type="text/javascript" language="javascript">
<!--
				asdocTitle = 'Service - Guttershark Flash API Docs';
				var baseRef = '../../../../../';
				window.onload = configPage;
			--></script>
<table style="display:none" id="titleTable" cellspacing="0" cellpadding="0" class="titleTable">
<tr>
<td align="left" class="titleTableTitle">Guttershark Flash API Docs</td><td align="right" class="titleTableTopNav"><a onclick="loadClassListFrame('../../../../../all-classes.html')" href="../../../../../package-summary.html">All&nbsp;Packages</a>&nbsp;|&nbsp;<a onclick="loadClassListFrame('../../../../../all-classes.html')" href="../../../../../class-summary.html">All&nbsp;Classes</a>&nbsp;|&nbsp;<a onclick="loadClassListFrame('../../../../../index-list.html')" href="../../../../../all-index-A.html">Index</a>&nbsp;|&nbsp;<a href="../../../../../index.html?net/guttershark/support/servicemanager/http/Service.html&amp;net/guttershark/support/servicemanager/http/class-list.html" id="framesLink1">Frames</a><a onclick="parent.location=document.location" href="" style="display:none" id="noFramesLink1">No&nbsp;Frames</a></td><td rowspan="3" align="right" class="titleTableLogo"><img alt="Adobe Logo" title="Adobe Logo" class="logoImage" src="../../../../../images/logo.jpg"></td>
</tr>
<tr class="titleTableRow2">
<td align="left" id="subTitle" class="titleTableSubTitle">Class&nbsp;Service</td><td align="right" id="subNav" class="titleTableSubNav"><a href="#methodSummary">Methods</a></td>
</tr>
<tr class="titleTableRow3">
<td colspan="2">&nbsp;</td>
</tr>
</table>
<script type="text/javascript" language="javascript">
<!--
if (!isEclipse() || window.name != ECLIPSE_FRAME_NAME) {titleBar_setSubTitle("ClassÂ Service"); titleBar_setSubNav(false,false,false,false,false,false,true,false,false,false,false,false,false,false);}
--></script>
<div class="MainContent">
<table cellspacing="0" cellpadding="0" class="classHeaderTable">
<tr>
<td class="classHeaderTableLabel">Package</td><td><a onclick="javascript:loadClassListFrame('class-list.html')" href="package-detail.html">net.guttershark.support.servicemanager.http</a></td>
</tr>
<tr>
<td class="classHeaderTableLabel">Class</td><td class="classSignature">public final  class Service</td>
</tr>
<tr>
<td class="classHeaderTableLabel">Inheritance</td><td class="inheritanceList">Service <img class="inheritArrow" alt="Inheritance" title="Inheritance" src="../../../../../images/inherit-arrow.gif"> flash.utils.Proxy</td>
</tr>
</table>
<p></p>
  The Service class is used to send http requests from the service manager.
  This class is used internally, and when using the service manager to
  make http calls, you are invariably using this class without realizing it.
  Don't use this class directly, use the service manager, this class is strictly
  for documentation.
  
  <p>When you make a service call from the service manager, and pass it
  an object of properties, you are passing it a "callProps" object.</p>
  
  <p>Supported properties on the callProps object:</p>
  <ul>
  <li>data (Object) - Data to submit to the service (post or get).</li>
  <li>routes (Array) - An array of "route" paths that get concatenated together.</li>
  <li>method (String) - post or get.</li>
  <li>file (FileReference) - Upload a file. Attempts and timeouts do not apply when uploading a file. See below for more file upload information.</li>
  <li>responseFormat (String) - The response format to expect so casting and parsing can occur - see net.guttershark.support.servicemanager.http.ResponseFormat.</li>
  <li>onCreate (Function) - A function to call, as soon as a http call instance was created (the request hasn't gone out yet though.).</li>
  <li>onResult (Function) - A function to call, and pass a CallResult object to.</li>
  <li>onFault (Function) - A function to call, and pass a CallFault object to.</li>
  <li>onRetry (Function) - A function to call for every retry of a service.</li>
  <li>onTimeout (Function) - A function to call after every retry has been attempted, and no result or fault occured.</li>
  <li>attempts (int) - The number of retry attempts allowed.</li>
  <li>timeout (int - milliseconds) - The amount of time allowed for each call before another attempt is made.</li>
  </ul>
  
  <p><strong>Extended file upload info.</strong> If you're upload service returns some data, that data
  will be passed to your onResult in a CallResult instance. If no data is returned
  from the server, a call result object will <strong>not</strong> be passed to your
  onResult, or onFault callbacks.<p>
  
  <p><strong><h2>File upload responses.</h2></strong> If you do not send back a response,
  the flash client does not fire the complete event. This is problamatic, so make
  sure to send at least a variable response like: <code>result=true</code>, this
  ensures that the on result handlers will correctly fire.</p>
  
  <p>HTTP Service calls support a couple extra features, and, if you follow the rules with the
  responses from the server, you can trigger the onFault callback. This is useful
  for situations where the server may have returned a 200 OK, but you need
  to indicate to the client that it was a faulty operation.</p>
  
  <p><strong>For "xml" responses</strong></p>
  <p>A successful xml response can be any well formed xml, which will trigger the onResult callback.</p>
  <p>To indicate a fault, and call the onFault callback, send an XML structure like this as the response:</p> 
  <div class='listing'><pre> 
  &lt;root&gt;
      &lt;fault&gt;my message&lt;/fault&gt;
  &lt;/root&gt;
  </pre></div>
  
  <p><strong>Note:</strong> the root node name doesn't matter in this case, it's the <code>fault</code> node that matters</p>
  
  <p><strong>For "variable" responses</strong></p>
  <p>The response should be a url encoded string like so: (name=asdfasd&email=asdfasd&test=sdfsdf)</p>
  <p>To indicate a fault through variables define it like so: (fault=my%20fault%20message).</p>
  
  <p>For text or binary response formats, no translation of the response occurs, it's handed
  back to you as raw data in either the call result, or call fault.</p>
  
  <p></p>
<br>
<span class="label">Example</span>
<br>Submitting data to a POST service.
  <div class='listing'><pre> 
  import net.guttershark.managers.ServiceManager;
  import net.guttershark.support.serviceamanager.shared.CallResult;
  import net.guttershark.support.serviceamanager.shared.CallFault;
  var sm:ServiceManager = ServiceManager.gi();
  sm.createHTTPService("sendEmail","http://localhost/sendEmail.php",3,5000,false);
  sm.sendEmail({method:"post",responseFormat:"variables",data:{toEmail:"test&#64;example.com",subject:"Example",message:"Hello World"},onResult:onr,onFault:onf});
  function onr(cr:CallResult):void{}
  function onf(cf:CallFault):void{}
  </pre></div>
  
  <p></p>A file upload, with no upload data response:
  <div class='listing'><pre> 
  import net.guttershark.managers.ServiceManager;
  var sm:ServiceManager = ServiceManager.gi();
  sm.createHTTPService("uploadFile","http://localhost/uploadFile.php");
  sm.uploadFile({file:myFileReference,onResult:onr,onFault:onf});
  function onr():void{} //no parameter here, as no result data is received.
  function onf():void{} //no parameter here, as no result data is received.
  </pre></div>
  
  <p></p>A file upload, with file upload response data:
  <div class='listing'><pre> 
  import net.guttershark.managers.ServiceManager;
  import net.guttershark.support.serviceamanager.shared.CallResult;
  import net.guttershark.support.serviceamanager.shared.CallFault;
  var sm:ServiceManager = ServiceManager.gi();
  sm.createHTTPService("uploadFile","http://localhost/uploadFile.php");
  sm.uploadFile({file:myFileReference,onResult:onr,onFault:onf});
  function onr(cr:CallResult):void{} //no parameter here, as no result data is received.
  function onf(cf:CallFault):void{} //no parameter here, as no result data is received.
  </pre></div>
  <p></p>
<br>
<hr>
</div>
<a name="methodSummary"></a>
<div class="summarySection">
<div class="summaryTableTitle">Public Methods</div>
<table id="summaryTableMethod" class="summaryTable " cellpadding="3" cellspacing="0">
<tr>
<th>&nbsp;</th><th colspan="2">Method</th><th class="summaryTableOwnerCol">Defined&nbsp;by</th>
</tr>
<tr class="">
<td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol">
<div class="summarySignature">
<a class="signatureLink" href="#Service()">Service</a>(url:String, attempts:int = 3, timeout:int = 1000, limiter:Boolean = false, defaultResponseFormat:String = "variables")</div>
<div class="summaryTableDescription">
   Constructor for Service instances.</div>
</td><td class="summaryTableOwnerCol">Service</td>
</tr>
<tr class="">
<td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol">
<div class="summarySignature">
<a class="signatureLink" href="#dispose()">dispose</a>():void</div>
<div class="summaryTableDescription">
   Dispose of this service.</div>
</td><td class="summaryTableOwnerCol">Service</td>
</tr>
<tr class="">
<td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol">
<div class="summarySignature">
<a class="signatureLink" href="#send()">send</a>(callProps:Object):void</div>
<div class="summaryTableDescription">
   Sends a service call, from parameters in the callProps object.</div>
</td><td class="summaryTableOwnerCol">Service</td>
</tr>
<tr class="">
<td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol">
<div class="summarySignature">
<a class="signatureLink" href="#toString()">toString</a>():String</div>
<div class="summaryTableDescription">
   Friendly description.</div>
</td><td class="summaryTableOwnerCol">Service</td>
</tr>
</table>
</div>
<script type="text/javascript" language="javascript">
<!--
showHideInherited();
--></script>
<div class="MainContent">
<a name="constructorDetail"></a>
<div class="detailSectionHeader">Constructor detail</div>
<a name="Service()"></a>
<table cellspacing="0" cellpadding="0" class="detailHeader">
<tr>
<td class="detailHeaderName">Service</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">constructor</td>
</tr>
</table>
<div class="detailBody">
<code>public function Service(url:String, attempts:int = 3, timeout:int = 1000, limiter:Boolean = false, defaultResponseFormat:String = "variables")</code><p>
   Constructor for Service instances.
   
   </p><span class="label">Parameters</span>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="20px"></td><td><code><span class="label">url</span>:String</code> &mdash; The id of this service.
   </td>
</tr>
<tr>
<td class="paramSpacer">&nbsp;</td>
</tr>
<tr>
<td width="20px"></td><td><code><span class="label">attempts</span>:int</code> (default = <code>3</code>)<code></code> &mdash; The endpoing URL.
   </td>
</tr>
<tr>
<td class="paramSpacer">&nbsp;</td>
</tr>
<tr>
<td width="20px"></td><td><code><span class="label">timeout</span>:int</code> (default = <code>1000</code>)<code></code> &mdash; The HTTP method. GET/POST.
   </td>
</tr>
<tr>
<td class="paramSpacer">&nbsp;</td>
</tr>
<tr>
<td width="20px"></td><td><code><span class="label">limiter</span>:Boolean</code> (default = <code>false</code>)<code></code> &mdash; The default responses data format.
   </td>
</tr>
<tr>
<td class="paramSpacer">&nbsp;</td>
</tr>
<tr>
<td width="20px"></td><td><code><span class="label">defaultResponseFormat</span>:String</code> (default = "<code>variables</code>")<code></code></td>
</tr>
</table>
</div>
<a name="methodDetail"></a>
<div class="detailSectionHeader">Method detail</div>
<a name="dispose()"></a>
<table cellspacing="0" cellpadding="0" class="detailHeader">
<tr>
<td class="detailHeaderName">dispose</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td>
</tr>
</table>
<div class="detailBody">
<code>public function dispose():void</code><p>
   Dispose of this service.
   </p></div>
<a name="send()"></a>
<table cellspacing="0" cellpadding="0" class="detailHeader">
<tr>
<td class="detailHeaderName">send</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td><td class="detailHeaderRule">&nbsp;</td>
</tr>
</table>
<div class="detailBody">
<code>public function send(callProps:Object):void</code><p>
   Sends a service call, from parameters in the callProps object.
   
   </p><span class="label">Parameters</span>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="20px"></td><td><code><span class="label">callProps</span>:Object</code> &mdash; An Object with keys that control the service call, result handling, timeouts, etc.
   </td>
</tr>
</table>
</div>
<a name="toString()"></a>
<table cellspacing="0" cellpadding="0" class="detailHeader">
<tr>
<td class="detailHeaderName">toString</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td><td class="detailHeaderRule">&nbsp;</td>
</tr>
</table>
<div class="detailBody">
<code>public function toString():String</code><p>
   Friendly description.
   </p><p></p>
<span class="label">Returns</span>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="20"></td><td><code>String</code></td>
</tr>
</table>
</div>
<br>
<br>
<hr>
<br>
<p></p>
<center class="copyright"> 
</center>
</div>
</body>
</html>
<!-- -->
