<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" href="../../../style.css" type="text/css" media="screen">
<link rel="stylesheet" href="../../../print.css" type="text/css" media="print">
<meta content="PreloadController,com.mccannsf.preloading.PreloadController,library,working,addItems,prioritize,reset,start,stop" name="keywords">
<title>com.mccannsf.preloading.PreloadController</title>
</head>
<body>
<script type="text/javascript" language="javascript" src="../../../asdoc.js"></script><script type="text/javascript" language="javascript" src="../../../cookies.js"></script><script type="text/javascript" language="javascript">
<!--
				asdocTitle = 'PreloadController - API Documentation';
				var baseRef = '../../../';
				window.onload = configPage;
			--></script>
<table style="display:none" id="titleTable" cellspacing="0" cellpadding="0" class="titleTable">
<tr>
<td align="left" class="titleTableTitle">Mccann Worldgroup Flash API Docs</td><td align="right" class="titleTableTopNav"><a onclick="loadClassListFrame('../../../all-classes.html')" href="../../../package-summary.html">All&nbsp;Packages</a>&nbsp;|&nbsp;<a onclick="loadClassListFrame('../../../all-classes.html')" href="../../../class-summary.html">All&nbsp;Classes</a>&nbsp;|&nbsp;<a onclick="loadClassListFrame('../../../index-list.html')" href="../../../all-index-A.html">Index</a>&nbsp;|&nbsp;<a href="../../../index.html?com/mccannsf/preloading/PreloadController.html&amp;com/mccannsf/preloading/class-list.html" id="framesLink1">Frames</a><a onclick="parent.location=document.location" href="" style="display:none" id="noFramesLink1">No&nbsp;Frames</a></td><td rowspan="3" align="right" class="titleTableLogo"><img alt="Adobe Logo" title="Adobe Logo" class="logoImage" src="../../../images/logo.jpg"></td>
</tr>
<tr class="titleTableRow2">
<td align="left" id="subTitle" class="titleTableSubTitle">Class&nbsp;PreloadController</td><td align="right" id="subNav" class="titleTableSubNav"><a href="#propertySummary">Properties</a>&nbsp;| <a href="#methodSummary">Methods</a>&nbsp;| <a href="#eventSummary">Events</a></td>
</tr>
<tr class="titleTableRow3">
<td colspan="2">&nbsp;</td>
</tr>
</table>
<script type="text/javascript" language="javascript">
<!--
if (!isEclipse() || window.name != ECLIPSE_FRAME_NAME) {titleBar_setSubTitle("ClassÂ PreloadController"); titleBar_setSubNav(false,true,false,false,true,false,true,false,false,false,false,false,false,false);}
--></script>
<div class="MainContent">
<table cellspacing="0" cellpadding="0" class="classHeaderTable">
<tr>
<td class="classHeaderTableLabel">Package</td><td><a onclick="javascript:loadClassListFrame('class-list.html')" href="package-detail.html">com.mccannsf.preloading</a></td>
</tr>
<tr>
<td class="classHeaderTableLabel">Class</td><td class="classSignature">public class PreloadController</td>
</tr>
<tr>
<td class="classHeaderTableLabel">Inheritance</td><td class="inheritanceList">PreloadController <img class="inheritArrow" alt="Inheritance" title="Inheritance" src="../../../images/inherit-arrow.gif"> flash.events.EventDispatcher</td>
</tr>
</table>
<p></p>
  The PreloadController is a controller you use for loading multiple assets. It provides you
  with methods for starting, stopping, pausing, resuming and prioritizing of assets.
  
  <p>The PreloadController utilizes an internal asset library to store all loaded assets.
  You can access the library to get assets out after the preload is complete.</p>
  
  <p>Events are dispatched for each item being loaded as well, so you do have hooks into
  the asset as soon as they are loaded. See the events section listed here for more events.</p>
  
  <p>Files are preloaded one at a time, in sequence. This is so that multiple loading files
  don't slow everything else down more. The more files loading at once the slower it actually
  turns out to load all of them - that is why this is in sequence.</p>
  
  <p></p>
<br>
<span class="label">Example</span>
<br>Heres an example of using the preload controller:
  <div class='listing'><pre>
  
  public class PreloaderTest extends MovieClip 
  {
  
  private var preloadController:PreloadController;
  public var preloader:MovieClip;
  
  public function PreloaderTest()
  {
   super();
   this.loaderInfo.addEventListener(Event.COMPLETE, onSWFComplete);
  }
  
  private function onSWFComplete(e:Event):void
  {
   //you should have an assets folder local to the swf with these assets in it.
   var assets:Array = [
    new Asset("assets/jpg1.jpg","jpg1"),
    new Asset("assets/jpg2.jpg","jpg2"), 
    new Asset("assets/png1.png","png1"),
    new Asset("assets/png2.png","png2"),
    new Asset("swfload_test.swf","swf1"),
    new Asset("assets/sound1.mp3","snd1"),
    new Asset("assets/Pizza_Song.flv","pizza")
   ];
   preloadController = new PreloadController(400);
   preloadController.addItems(assets);
   preloadController.addEventListener(PreloadProgressEvent.PROGRESS, onProgress);
   preloadController.addEventListener(Event.COMPLETE,onPreloaderComplete);
   preloadController.addEventListener(AssetCompleteEvent.COMPLETE, onItemComplete);
   preloadController.prioritize(assets[4]); //prioritize the swf.
   preloadController.start(); //start it;
   preloadController.stop(); //pause it
   setTimeout(preloadController.start,4000); //resume it
  }
   
  private function onProgress(pe:PreloadProgressEvent):void
  {
   trace("progress: pixels: " + pe.pixels + " percent: " + pe.percent);
   preloader.width = pe.pixels
  }
  
  private function onItemComplete(e:AssetCompleteEvent):void
  {
   trace(e.asset.libraryName + " " + e.asset.source);
  }
  
  private function onPreloaderComplete(e::void
  {
   trace("PRELOAER COMPLETE");
   addChild(preloadController.library.getMovieClipFromSWFLibrary("swf1", "Test"));
   addChild(preloadController.library.getBitmap("jpg1"));
  }
  }
  </pre></div>
  <p></p>
<p>
<span class="classHeaderTableLabel">See also</span>
</p>
<div class="seeAlso">
<a href="../preloading/PreloadController.html#library" target="">library property</a>
<br>
<a href="../preloading/PreloadController.html#start()" target="">start method</a>
</div>
<br>
<hr>
</div>
<a name="propertySummary"></a>
<div class="summarySection">
<div class="summaryTableTitle">Public Properties</div>
<table id="summaryTableProperty" class="summaryTable " cellpadding="3" cellspacing="0">
<tr>
<th>&nbsp;</th><th colspan="2">Property</th><th class="summaryTableOwnerCol">Defined&nbsp;by</th>
</tr>
<tr class="">
<td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><a class="signatureLink" href="#library">library</a> : <a href="../preloading/AssetLibrary.html">AssetLibrary</a>
<div class="summaryTableDescription">[read-only]
   Returns a reference to the internal AssetLibrary used to save all loaded assets.</div>
</td><td class="summaryTableOwnerCol">PreloadController</td>
</tr>
<tr class="">
<td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><a class="signatureLink" href="#working">working</a> : Boolean<div class="summaryTableDescription">[read-only]
   A boolean indicating whether or not this controller is doing any preloading.</div>
</td><td class="summaryTableOwnerCol">PreloadController</td>
</tr>
</table>
</div>
<a name="methodSummary"></a>
<div class="summarySection">
<div class="summaryTableTitle">Public Methods</div>
<table id="summaryTableMethod" class="summaryTable " cellpadding="3" cellspacing="0">
<tr>
<th>&nbsp;</th><th colspan="2">Method</th><th class="summaryTableOwnerCol">Defined&nbsp;by</th>
</tr>
<tr class="">
<td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol">
<div class="summarySignature">
<a class="signatureLink" href="#PreloadController()">PreloadController</a>(pixelsToFill:int = 100)</div>
<div class="summaryTableDescription">
   Constructor for PreloadController instances.</div>
</td><td class="summaryTableOwnerCol">PreloadController</td>
</tr>
<tr class="">
<td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol">
<div class="summarySignature">
<a class="signatureLink" href="#addItems()">addItems</a>(items:Array):void</div>
<div class="summaryTableDescription">
   Add items to the controller to load.</div>
</td><td class="summaryTableOwnerCol">PreloadController</td>
</tr>
<tr class="">
<td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol">
<div class="summarySignature">
<a class="signatureLink" href="#prioritize()">prioritize</a>(asset:<a href="Asset.html">Asset</a>):void</div>
<div class="summaryTableDescription">
   Prioritize an asset.</div>
</td><td class="summaryTableOwnerCol">PreloadController</td>
</tr>
<tr class="">
<td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol">
<div class="summarySignature">
<a class="signatureLink" href="#reset()">reset</a>():void</div>
<div class="summaryTableDescription">
   Resets everything in this controller.</div>
</td><td class="summaryTableOwnerCol">PreloadController</td>
</tr>
<tr class="">
<td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol">
<div class="summarySignature">
<a class="signatureLink" href="#start()">start</a>():void</div>
<div class="summaryTableDescription">
   Starts loading the items in this preload controller.</div>
</td><td class="summaryTableOwnerCol">PreloadController</td>
</tr>
<tr class="">
<td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol">
<div class="summarySignature">
<a class="signatureLink" href="#stop()">stop</a>():void</div>
<div class="summaryTableDescription">
   Stops this preload controller from loading assets.</div>
</td><td class="summaryTableOwnerCol">PreloadController</td>
</tr>
</table>
</div>
<a name="eventSummary"></a>
<div class="summarySection">
<div class="summaryTableTitle">Events</div>
<table id="summaryTableEvent" class="summaryTable " cellpadding="3" cellspacing="0">
<tr>
<th>&nbsp;</th><th colspan="2">Event</th><th>Summary</th><th class="summaryTableOwnerCol">Defined&nbsp;by</th>
</tr>
<tr class="">
<td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol">
<div class="summarySignature">
<a class="signatureLink" href="#event:assetComplete">assetComplete</a>
</div>
</td><td class="summaryTableDescription summaryTableCol">
  Dispatched for each item that has completed downloading.</td><td class="summaryTableOwnerCol">PreloadController</td>
</tr>
<tr class="">
<td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol">
<div class="summarySignature">
<a class="signatureLink" href="#event:assetError">assetError</a>
</div>
</td><td class="summaryTableDescription summaryTableCol">
  Dispatched for each item that has has stopped downloading because of an error.</td><td class="summaryTableOwnerCol">PreloadController</td>
</tr>
<tr class="">
<td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol">
<div class="summarySignature">
<a class="signatureLink" href="#event:assetOpen">assetOpen</a>
</div>
</td><td class="summaryTableDescription summaryTableCol">
  Dispatched for each item that has started downloading.</td><td class="summaryTableOwnerCol">PreloadController</td>
</tr>
<tr class="">
<td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol">
<div class="summarySignature">
<a class="signatureLink" href="#event:assetProgress">assetProgress</a>
</div>
</td><td class="summaryTableDescription summaryTableCol">
  Dispatched for each item that is downloading.</td><td class="summaryTableOwnerCol">PreloadController</td>
</tr>
<tr class="">
<td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol">
<div class="summarySignature">
<a class="signatureLink" href="#event:assetStatus">assetStatus</a>
</div>
</td><td class="summaryTableDescription summaryTableCol">
  Dispatched for each item that generated an http status code other than 0 or 200.</td><td class="summaryTableOwnerCol">PreloadController</td>
</tr>
<tr class="">
<td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol">
<div class="summarySignature">
<a class="signatureLink" href="#event:preloadProgress">preloadProgress</a>
</div>
</td><td class="summaryTableDescription summaryTableCol">
  Dispatched on progress of the entire PreloadController progress.</td><td class="summaryTableOwnerCol">PreloadController</td>
</tr>
</table>
</div>
<script type="text/javascript" language="javascript">
<!--
showHideInherited();
--></script>
<div class="MainContent">
<a name="propertyDetail"></a>
<div class="detailSectionHeader">Property detail</div>
<a name="library"></a>
<table cellspacing="0" cellpadding="0" class="detailHeader">
<tr>
<td class="detailHeaderName">library</td><td class="detailHeaderType">property</td>
</tr>
</table>
<div class="detailBody">
<code>library:<a href="../preloading/AssetLibrary.html">AssetLibrary</a></code>&nbsp;&nbsp;[read-only]<p>
   Returns a reference to the internal AssetLibrary used to save all loaded assets.
   
   </p><span class="label">Implementation</span>
<br>
<code>&nbsp;&nbsp;&nbsp;&nbsp;public function get library():<a href="../preloading/AssetLibrary.html">AssetLibrary</a></code>
<br>
<p>
<span class="label">See also</span>
</p>
<div class="seeAlso">
<a href="../preloading/AssetLibrary.html" target="">AssetLibrary class</a>
</div>
</div>
<a name="working"></a>
<table cellspacing="0" cellpadding="0" class="detailHeader">
<tr>
<td class="detailHeaderName">working</td><td class="detailHeaderType">property</td><td class="detailHeaderRule">&nbsp;</td>
</tr>
</table>
<div class="detailBody">
<code>working:Boolean</code>&nbsp;&nbsp;[read-only]<p>
   A boolean indicating whether or not this controller is doing any preloading.
   </p><span class="label">Implementation</span>
<br>
<code>&nbsp;&nbsp;&nbsp;&nbsp;public function get working():Boolean</code>
<br>
</div>
<a name="constructorDetail"></a>
<div class="detailSectionHeader">Constructor detail</div>
<a name="PreloadController()"></a>
<table cellspacing="0" cellpadding="0" class="detailHeader">
<tr>
<td class="detailHeaderName">PreloadController</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">constructor</td>
</tr>
</table>
<div class="detailBody">
<code>public function PreloadController(pixelsToFill:int = 100)</code><p>
   Constructor for PreloadController instances.
   
   </p><span class="label">Parameters</span>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="20px"></td><td><code><span class="label">pixelsToFill</span>:int</code> (default = <code>100</code>)<code></code> &mdash; pixelsToFill The total number of pixels this preloader needs to fill. This is used in calculating both pixels and percent. if you aren't interested in pixels, don't pass this parameter. 
   </td>
</tr>
</table>
<br>
<span class="label">Throws</span>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="20"></td><td><code></code> &mdash; If no items are in the array.
   </td>
</tr>
<tr>
<td class="paramSpacer">&nbsp;</td>
</tr>
<tr>
<td width="20"></td><td><code></code> &mdash; If pixelsToFill is 0.
   
   </td>
</tr>
</table>
<p>
<span class="label">See also</span>
</p>
<div class="seeAlso">
<a href="events/PreloadProgressEvent.html" target="">PreloadProgressEvent event</a>
</div>
</div>
<a name="methodDetail"></a>
<div class="detailSectionHeader">Method detail</div>
<a name="addItems()"></a>
<table cellspacing="0" cellpadding="0" class="detailHeader">
<tr>
<td class="detailHeaderName">addItems</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td>
</tr>
</table>
<div class="detailBody">
<code>public function addItems(items:Array):void</code><p>
   Add items to the controller to load. If the preloader is currently working,
   these items will be appended to the items to load.
   
   </p><span class="label">Parameters</span>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="20px"></td><td><code><span class="label">items</span>:Array</code> &mdash; An array of Asset instances.
   
   </td>
</tr>
</table>
<p>
<span class="label">See also</span>
</p>
<div class="seeAlso">
<a href="../preloading/Asset.html" target="">Asset class</a>
</div>
</div>
<a name="prioritize()"></a>
<table cellspacing="0" cellpadding="0" class="detailHeader">
<tr>
<td class="detailHeaderName">prioritize</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td><td class="detailHeaderRule">&nbsp;</td>
</tr>
</table>
<div class="detailBody">
<code>public function prioritize(asset:<a href="Asset.html">Asset</a>):void</code><p>
   Prioritize an asset.
   
   </p><span class="label">Parameters</span>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="20px"></td><td><code><span class="label">asset</span>:<a href="Asset.html">Asset</a></code> &mdash; An asset instance that is in the queue to be loaded.
   </td>
</tr>
</table>
</div>
<a name="reset()"></a>
<table cellspacing="0" cellpadding="0" class="detailHeader">
<tr>
<td class="detailHeaderName">reset</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td><td class="detailHeaderRule">&nbsp;</td>
</tr>
</table>
<div class="detailBody">
<code>public function reset():void</code><p>
   Resets everything in this controller. Note that this will not purge the library. 
   
   </p><p>
<span class="label">See also</span>
</p>
<div class="seeAlso">
<a href="../preloading/AssetLibrary.html#purge()" target="">AssetLibrary purge function</a>
</div>
</div>
<a name="start()"></a>
<table cellspacing="0" cellpadding="0" class="detailHeader">
<tr>
<td class="detailHeaderName">start</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td><td class="detailHeaderRule">&nbsp;</td>
</tr>
</table>
<div class="detailBody">
<code>public function start():void</code><p>
   Starts loading the items in this preload controller. This is also used to resume
   a preload controller that had previously been stopped.
   
   </p><p>
<span class="label">See also</span>
</p>
<div class="seeAlso">
<a href="../preloading/PreloadController.html#stop()" target="">stop method</a>
</div>
</div>
<a name="stop()"></a>
<table cellspacing="0" cellpadding="0" class="detailHeader">
<tr>
<td class="detailHeaderName">stop</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td><td class="detailHeaderRule">&nbsp;</td>
</tr>
</table>
<div class="detailBody">
<code>public function stop():void</code><p>
   Stops this preload controller from loading assets. 
   
   </p><p>If there is a currently loading asset, it will finish first.</p>
   
   <p>This does not completely destroy the controller, you can call
   start() and it will resume loading whatever assets were in the controller.</p>
   
   <p>This does not purge the internal asset library.</p>
   
   <p>The only way to destroy and reset a controller is by calling reset.</p>
   
   <p>
<span class="label">See also</span>
</p>
<div class="seeAlso">
<a href="../preloading/PreloadController.html#start()" target="">start method</a>
<br>
<a href="../preloading/PreloadController.html#reset()" target="">reset method</a>
</div>
</div>
<div class="detailSectionHeader">Event detail</div>
<a name="event:assetComplete"></a>
<table cellspacing="0" cellpadding="0" class="detailHeader">
<tr>
<td class="detailHeaderName">assetComplete</td><td class="detailHeaderType">event&nbsp;</td>
</tr>
</table>
<div class="detailBody">
<span class="label">Event object type: </span><a href="events/AssetCompleteEvent.html"><code>com.mccannsf.preloading.events.AssetCompleteEvent</code></a>
<br>
<p></p><p>
  Dispatched for each item that has completed downloading.
  
  </p></div>
<a name="event:assetError"></a>
<table cellspacing="0" cellpadding="0" class="detailHeader">
<tr>
<td class="detailHeaderName">assetError</td><td class="detailHeaderType">event&nbsp;</td><td class="detailHeaderRule">&nbsp;</td>
</tr>
</table>
<div class="detailBody">
<span class="label">Event object type: </span><a href="events/AssetErrorEvent.html"><code>com.mccannsf.preloading.events.AssetErrorEvent</code></a>
<br>
<p></p><p>
  Dispatched for each item that has has stopped downloading because of an error.
  
  </p></div>
<a name="event:assetOpen"></a>
<table cellspacing="0" cellpadding="0" class="detailHeader">
<tr>
<td class="detailHeaderName">assetOpen</td><td class="detailHeaderType">event&nbsp;</td><td class="detailHeaderRule">&nbsp;</td>
</tr>
</table>
<div class="detailBody">
<span class="label">Event object type: </span><a href="events/AssetOpenEvent.html"><code>com.mccannsf.preloading.events.AssetOpenEvent</code></a>
<br>
<p></p><p>
  Dispatched for each item that has started downloading.
  
  </p></div>
<a name="event:assetProgress"></a>
<table cellspacing="0" cellpadding="0" class="detailHeader">
<tr>
<td class="detailHeaderName">assetProgress</td><td class="detailHeaderType">event&nbsp;</td><td class="detailHeaderRule">&nbsp;</td>
</tr>
</table>
<div class="detailBody">
<span class="label">Event object type: </span><a href="events/AssetProgressEvent.html"><code>com.mccannsf.preloading.events.AssetProgressEvent</code></a>
<br>
<p></p><p>
  Dispatched for each item that is downloading.
  
  </p></div>
<a name="event:assetStatus"></a>
<table cellspacing="0" cellpadding="0" class="detailHeader">
<tr>
<td class="detailHeaderName">assetStatus</td><td class="detailHeaderType">event&nbsp;</td><td class="detailHeaderRule">&nbsp;</td>
</tr>
</table>
<div class="detailBody">
<span class="label">Event object type: </span><a href="events/AssetStatusEvent.html"><code>com.mccannsf.preloading.events.AssetStatusEvent</code></a>
<br>
<p></p><p>
  Dispatched for each item that generated an http status code other than 0 or 200.
  
  </p></div>
<a name="event:preloadProgress"></a>
<table cellspacing="0" cellpadding="0" class="detailHeader">
<tr>
<td class="detailHeaderName">preloadProgress</td><td class="detailHeaderType">event&nbsp;</td><td class="detailHeaderRule">&nbsp;</td>
</tr>
</table>
<div class="detailBody">
<span class="label">Event object type: </span><a href="events/PreloadProgressEvent.html"><code>com.mccannsf.preloading.events.PreloadProgressEvent</code></a>
<br>
<p></p><p>
  Dispatched on progress of the entire PreloadController progress.
  
  </p></div>
<br>
<br>
<hr>
<br>
<p></p>
<center class="copyright"> 
</center>
</div>
</body>
</html>
<!-- -->
